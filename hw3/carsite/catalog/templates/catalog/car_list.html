{% extends 'catalog/base.html' %}

{% block content %}
<style>
  .card-img-top {
    width: 100%;
    height: 250px;
    object-fit: cover;
    object-position: center;
  }
</style>

<h1 class="mb-4">Список автомобилей</h1>

<div class="row">
  {% for car in cars %}
  <div class="col-md-4 mb-3 d-flex align-items-stretch">
    <div class="card d-flex flex-column w-100">
      {% if car.cardescription and car.cardescription.image %}
      <img 
        src="{{ car.cardescription.image.url }}" 
        class="card-img-top"
        alt="Фото автомобиля {{ car.name }}" 
      >
      {% else %}
      <img 
        src="https://via.placeholder.com/600x400?text=No+Image" 
        class="card-img-top"
        alt="Нет изображения"
      >
      {% endif %}
      <div class="card-body flex-grow-1">
        <h5 class="card-title">{{ car.name }}</h5>
        <p class="card-text">Производитель: {{ car.company.name }}</p>
      </div>
      <div class="card-footer bg-transparent border-top-0">
        <a 
          href="{% url 'car_detail' car.id %}" 
          class="btn btn-primary w-100"
        >
          Подробнее
        </a>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}
